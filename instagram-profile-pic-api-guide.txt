INSTAGRAM PROFILE PICTURE API GUIDE
==================================

How to Automatically Fetch an Instagram Profile Picture (Official API)
---------------------------------------------------------------------

REQUIREMENTS:
- Instagram Business or Creator account (not a personal account)
- Facebook Page connected to the Instagram account
- Facebook Developer account

STEPS:
------
1. Create a Facebook App
   - Go to https://developers.facebook.com/
   - Click "My Apps" > "Create App"
   - Choose "Business" or "For Everything Else"
   - Fill out the required info

2. Connect Your Instagram Account
   - Go to your Facebook Page (must be admin)
   - Settings > Linked Accounts > Instagram
   - Connect your Instagram Business/Creator account

3. Get an Access Token
   - In your Facebook App, add the Instagram Graph API product
   - Go to "Graph API Explorer" (https://developers.facebook.com/tools/explorer/)
   - Select your app and get a User Access Token with these permissions:
     - instagram_basic
     - pages_show_list
     - pages_read_engagement
   - Log in and authorize the permissions

4. Find Your Instagram User ID
   - Use the API Explorer or this endpoint:
     GET https://graph.facebook.com/v19.0/me/accounts?access_token={access-token}
   - Find your Page, then get the connected Instagram account ID:
     GET https://graph.facebook.com/v19.0/{page-id}?fields=instagram_business_account&access_token={access-token}

5. Fetch the Profile Picture
   - Use this endpoint:
     GET https://graph.instagram.com/{user-id}?fields=id,username,profile_picture_url&access_token={access-token}
   - Example response:
     {
       "id": "123456789",
       "username": "your_ig_handle",
       "profile_picture_url": "https://instagram.fxyz1-1.fna.fbcdn.net/v/t51.2885-19/12345678_1234567890_n.jpg?..."
     }

6. Use the profile_picture_url in your website/app
   - You can display this image directly, or download/cache it on your server.

IMPORTANT NOTES:
----------------
- Access tokens expire! For production, set up a system to refresh tokens.
- Never expose your access token in client-side code (JavaScript in the browser).
- This only works for Business/Creator accounts, not personal Instagram accounts.
- The API and permissions process may change; always check the latest Facebook/Instagram docs.

TROUBLESHOOTING:
----------------
- If you get a permissions error, check that your Instagram is a Business/Creator account and is connected to a Facebook Page you manage.
- If the profile_picture_url is missing, check your permissions and that you are using the correct user ID.

EXTRA: Sample API Call (using curl)
-----------------------------------
curl -X GET "https://graph.instagram.com/{user-id}?fields=id,username,profile_picture_url&access_token={access-token}"

Replace {user-id} and {access-token} with your actual values.

For more info, see:
- https://developers.facebook.com/docs/instagram-api/reference/user/
- https://developers.facebook.com/docs/instagram-api/getting-started/
